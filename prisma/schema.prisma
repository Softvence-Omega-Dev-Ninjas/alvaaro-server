generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                       String                     @unique @default(uuid())
  fullName                 String
  email                    String                     @unique
  password                 String
  images                   String?
  role                     UserRole                   @default(USER)
  isDeleted                Boolean                    @default(false)
  otp                      String?
  otpExpiry                String?
  Seller                   Seller?
  createdAt                DateTime                   @default(now())
  updatedAt                DateTime                   @updatedAt
  Wishlist                 Wishlist[]
  UserSubscriptionValidity UserSubscriptionValidity[]
  Amount                   Amount?
}

model Seller {
  id                 String                    @unique @default(uuid())
  userId             String                    @unique
  user               User                      @relation(fields: [userId], references: [id], onDelete: Cascade)
  companyName        String
  companyWebsite     String
  phone              String
  address            String
  state              String
  city               String
  zip                String
  verificationStatus VerificationStatusType    @default(PENDING)
  subscriptionStatus Boolean                   @default(false)
  subscriptionsId    String?
  subscriptions      UserSubscriptionValidity? @relation(fields: [subscriptionsId], references: [id])
  createdAt          DateTime                  @default(now())
  updatedAt          DateTime                  @updatedAt
  Product            Product[]
  amounts            Amount[]
  Inquiry            Inquiry[]
}

// Cars
model Car {
  id           String  @unique @default(uuid())
  productId    String  @unique
  product      Product @relation(fields: [productId], references: [id], onDelete: Cascade)
  condition    String
  manufacture  String
  year         String
  model        String
  carBodyStyle String
  transmission String
  mileage      String
  cylinders    String
  tractionType String
  fuelType     String
}

// Watches
model Watch {
  id              String   @unique @default(uuid())
  productId       String   @unique
  product         Product  @relation(fields: [productId], references: [id], onDelete: Cascade)
  condition       String
  manufacture     String
  warranty        String
  model           String
  waterResistance String
  displayType     String
  strapMaterial   String
  movement        String
  size            String
  tractionType    String
  features        String[]
}

// Jewelry
model Jewellery {
  id              String   @unique @default(uuid())
  productId       String   @unique
  product         Product  @relation(fields: [productId], references: [id], onDelete: Cascade)
  condition       String
  manufacture     String
  warranty        String
  model           String
  waterResistance String
  displayType     String
  strapMaterial   String
  movement        String
  size            String
  tractionType    String
  features        String[]
}

// real estate
model RealEstate {
  id        String   @unique @default(uuid())
  productId String   @unique
  product   Product  @relation(fields: [productId], references: [id], onDelete: Cascade)
  beds      String
  washroom  String
  size      String
  text      String[]
  state     String
  city      String
  zip       String
  address   String
  feature   String[]
}

// yachts
model Yacht {
  id        String   @unique @default(uuid())
  productId String   @unique
  product   Product  @relation(fields: [productId], references: [id])
  beds      String
  washroom  String
  size      String
  text      String[]
  state     String
  city      String
  zip       String
  address   String
  feature   String[]
}

model Wishlist {
  id        String   @unique @default(uuid())
  userId    String
  productId String
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  product   Product  @relation(fields: [productId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())

  @@unique([userId, productId])
}

model Contact {
  id        String   @unique @default(uuid())
  name      String
  country   String
  number    String
  message   String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Inquiry {
  id         String   @id @default(uuid())
  buyerName  String
  buyerEmail String
  buyerPhone String?
  message    String
  productId  String
  sellerId   String
  createdAt  DateTime @default(now())

  product Product @relation(fields: [productId], references: [id])
  seller  Seller  @relation(fields: [sellerId], references: [id])
}

model Newsletter {
  id        String   @unique @default(uuid())
  email     String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum UserRole {
  USER
  SELLER
  ADMIN
}

enum VerificationStatusType {
  PENDING
  VERIFIED
  REJECTED
}

enum SubscriptionStatusType {
  ACTIVE
  EXPIRED
}
